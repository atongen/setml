(jbuild_version 1)

(library
 ((name lib)
  (modules (
    crypto
    session))
  (libraries (
    nocrypto
    nocrypto.unix
    yojson
    cohttp
    hex))))

(executable
 ((name setml)
  (public_name setml)
  (modules (
    setml
    file_server))
  (libraries (
    lib
    containers
    lwt
    websocket
    websocket.lwt
    websocket-lwt.cohttp))
  (package setml)))

(executable
  ((name test)
   (public_name test)
   (modules (test))
   (libraries (
     lib
     oUnit))
   (package setml)))

(alias
 ((name runtest)
  (deps (test.exe))
  (action (run ${<}))))