(jbuild_version 1)

(library
 ((name lib)
  (modules (
    db
    dbp
    clients
    crypto
    pubsub
    route
    server_messages
    session
    templates
    server_util))
  (libraries (
    caqti
    caqti-driver-postgresql
    caqti-lwt
    cohttp
    cohttp-lwt
    cohttp-lwt-unix
    containers
    containers.thread
    cow
    nocrypto
    nocrypto.unix
    postgresql
    re
    shared
    str
    websocket
    websocket.lwt
    websocket-lwt.cohttp
    yojson))))

(executable
 ((name setml)
  (public_name setml)
  (modules (
    setml
    file_server))
  (libraries (
    lib
    lwt
    websocket
    websocket.lwt
    websocket-lwt.cohttp))
  (package setml)))
